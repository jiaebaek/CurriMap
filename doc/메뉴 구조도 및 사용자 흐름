메뉴 구조도 (IA) 및 사용자 흐름 정의 (User Flow)

**1. 앱 메뉴 구조도 (Information Architecture - IA)**
앱의 최상위 네비게이션(Bottom Tab Bar)을 기준으로 화면의 깊이(Depth)를 정의합니다.

| **Depth 1 (Bottom Tab)** | **Depth 2 (메인 화면)** | **Depth 3 (상세 화면)** | **Depth 4 (모달/기타)** |
| --- | --- | --- | --- |
| **홈 (Home)** | HomeScreen | MissionDetailScreen (도서 상세) | MissionProgressScreen (체크리스트) |
|  |  | BookLogManualScreen (자유 기록 검색) |  |
| **로드맵 (Roadmap)** | RoadmapScreen (현재 코스 지도) | LevelDetailScreen (현재 레벨 전체 리스트) |  |
| **검색 (Search)** | SearchScreen (교차 필터) | MissionDetailScreen (도서 상세) |  |
| **마이페이지 (My)** | MyPageScreen | ChildProfileScreen (프로필 수정) | SettingsScreen (설정) |
|  |  | ReportScreen (성장 리포트) |  |

**2. 핵심 사용자 흐름 (Key User Flows)
Flow A: 최초 가입 및 온보딩 (First Run Setup)**
*이 흐름은 DB에 `user` 데이터가 없을 때만 실행됩니다.*

| **Step** | **화면/액션** | **로직/데이터 처리** | **이동 (Next Screen)** |
| --- | --- | --- | --- |
| **A1** | **시작 화면** | - | LoginScreen or SignUpScreen |
| **A2** | **회원가입** | 이메일, 비밀번호 등록 및 사용자 기본 정보 저장. | Onboarding/ChildInfoScreen |
| **A3** | **자녀 정보 입력** | 이름, 나이, 성별 입력. | Onboarding/InterestsScreen |
| **A4** | **취향 태그 선택** | **필수:** 이미지 그리드에서 3개 이상 `interests` 태그 선택. | Onboarding/DiagnosisScreen |
| **A5** | **레벨 자가 진단** | 난이도 선택(Pre-K, AR 0~1 등). | Onboarding/ResultScreen |
| **A6** | **초기 로드맵 설정 완료** | `current_level` 및 초기 `roadmap_queue` 세팅. | HomeScreen (완료) |

**Flow B: 일일 미션 수행 및 기록 (Daily Mission Flow)**
*가장 빈번하게 발생하는 핵심 흐름입니다.*

| **Step** | **화면/액션** | **로직/데이터 처리** | **이동 (Next Screen)** |
| --- | --- | --- | --- |
| **B1** | **홈 화면** | 오늘의 미션 도서 1권 노출 (추천 로직 적용). | MissionDetailScreen |
| **B2** | **도서 상세** | **액션:** [미션 시작하기] 버튼 클릭. | MissionProgressScreen |
| **B3** | **미션 진행 (체크리스트)** | 책 읽기, 맘스팁 따라 하기 등 체크리스트 수행. | MissionCompleteScreen (모든 체크 완료 시) |
| **B4** | **미션 완료 및 피드백** | **필수:** 아이 반응(Love/Soso/Hate) 선택. | (API Call) `mission_logs`에 기록, `read_count` +1, `word_count` 합산. |
| **B5** | **보상/결과** | 연속 학습일(Streak) 갱신 애니메이션. | HomeScreen |

**Flow C: 추천 도서가 아닌 다른 책 기록 (Manual Log Flow)**

| **Step** | **화면/액션** | **로직/데이터 처리** | **이동 (Next Screen)** |
| --- | --- | --- | --- |
| **C1** | **홈 화면** | **액션:** [오늘 다른 책을 읽었어요] 버튼 클릭. | BookLogManualScreen |
| **C2** | **자유 기록 검색** | 검색어로 `books` DB 검색. (ISBN 스캔 기능은 P1 고려) | MissionDetailScreen |
| **C3** | **도서 상세 확인** | 선택한 도서 정보 확인. **액션:** [이 책으로 미션 기록] 버튼 클릭. | MissionProgressScreen (B3로 합류) |

**Flow D: 로드맵 전체 조망 및 사전 준비 (Preparation Flow)**

**3. UI/UX 구현 주의사항 (Developer Guardrails)**
• **하단 탭 바 (Bottom Tab Bar):** 총 4개(홈, 로드맵, 검색, 마이페이지)의 탭은 항상 고정되어야 하며, 각 탭 내에서 화면 이동 시에는 하단 탭 바가 사라지지 않아야 합니다. (모달 제외)
• **뒤로가기 일관성:** 모든 Depth 3 이상의 화면에는 명확한 뒤로가기 버튼(혹은 제스처)이 있어야 합니다. (특히 모바일 앱의 필수 사항)
• **빈 화면 처리 (Empty State):** 미션 리스트나 검색 결과가 0건일 때, '데이터 없음' 메시지 대신 **"이런 조건으로 검색해 보세요"** 같은 유저 친화적인 메시지를 포함하여야 합니다.

| **Step** | **화면/액션** | **로직/데이터 처리** | **이동 (Next Screen)** |
| --- | --- | --- | --- |
| **D1** | **Bottom Tab:** 로드맵 | - | RoadmapScreen (Progress Map) |
| **D2** | **로드맵 화면** | **액션:** 현재 레벨 단계(예: AR 1.0 코스) 클릭. | LevelDetailScreen |
| **D3** | **레벨 상세 리스트** | 현재 레벨에 배정된 전체 도서 리스트 노출 (Sequence Order 순). | MissionDetailScreen |
| **D4** | **도서 상세** | **액션:** [구매 링크 이동] or [내 서재에 추가] | 외부 링크 이동 or `wishlist` DB 상태 변경 |