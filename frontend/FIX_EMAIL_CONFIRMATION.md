# 이메일 확인 문제 해결 방법

## 문제 상황
- 사용자는 Supabase에 존재함
- 하지만 이메일 확인이 안 된 상태 (`email_confirmed_at`이 NULL)
- 로그인 시 `invalid_credentials` 에러 발생

## 해결 방법 (3가지)

### 방법 1: Supabase에서 이메일 확인 비활성화 (개발 환경 권장) ⭐

**가장 빠르고 간단한 방법입니다.**

1. [Supabase 대시보드](https://app.supabase.com) 접속
2. 프로젝트 선택
3. 왼쪽 메뉴에서 **`Authentication`** 클릭
4. 상단 탭에서 **`Settings`** 클릭
5. **"Enable email confirmations"** 옵션을 찾아서 **비활성화 (OFF)**
6. 페이지 하단의 **"Save"** 버튼 클릭

**이제 앱에서 다시 로그인을 시도하면 됩니다!**

### 방법 2: Supabase 대시보드에서 사용자 수동 확인

1. [Supabase 대시보드](https://app.supabase.com) 접속
2. **`Authentication`** → **`Users`** 이동
3. 확인이 필요한 사용자를 찾아서 클릭
4. 사용자 상세 페이지에서:
   - **"Confirm email"** 버튼 클릭
   - 또는 **"Auto Confirm User"** 옵션 활성화
5. 저장

**이제 해당 사용자는 이메일 확인 없이 로그인 가능합니다.**

### 방법 3: 실제 이메일 확인 링크 클릭

1. 회원가입 시 입력한 이메일 받은편지함 확인
2. Supabase에서 보낸 인증 이메일 찾기
3. 이메일 내의 인증 링크 클릭
4. 앱에서 다시 로그인 시도

**개발 환경에서는 이 방법이 불편할 수 있습니다.**

## 추천 방법

**개발 중이라면 방법 1 (이메일 확인 비활성화)을 강력 추천합니다.**

이유:
- ✅ 가장 빠름
- ✅ 개발 중에는 이메일 확인이 불필요
- ✅ 테스트가 쉬움
- ✅ 나중에 프로덕션 배포 시 다시 활성화 가능

## 프로덕션 환경에서는?

프로덕션 배포 시에는:
- 이메일 확인을 다시 활성화
- 실제 이메일 인증 플로우 사용
- 보안을 위해 필수

## 확인 방법

설정 변경 후:
1. 앱에서 로그인 시도
2. 성공하면 메인 화면으로 이동
3. 콘솔에 `✅ [Auth] Sign in successful` 메시지 확인

## 추가 팁

### 기존 사용자도 자동 확인되도록 설정

Supabase 대시보드에서:
- `Authentication` → `Settings` → `Auth Providers` → `Email`
- "Confirm email" 옵션을 비활성화하면
- 새로 가입하는 사용자도 자동으로 확인됨

### 테스트 사용자 생성 시

Supabase 대시보드에서 사용자를 직접 생성할 때:
- "Auto Confirm User" 옵션을 체크하면
- 이메일 확인 없이 바로 사용 가능

